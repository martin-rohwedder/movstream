(function(e){var t,n=/%20/g;if(e("html").hasClass("jme-embedded-player")){var a,r=(location.search||"").replace(/^\?/,"").split("&");if(e.each(r,function(e,t){return t=t.split("="),"jmeembed"==t[0]?(a=t[1],!1):void 0}),a){a=decodeURIComponent(a.replace(/\+/g," "));try{a=JSON.parse(a)}catch(i){}"object"==typeof a&&a.e&&(a.a.title&&(document.title=a.a.title),e(function(){var t=e('<div class="mediaplayer" />').prependTo("body").data("jme",{controlbar:!0});"video"==a.e&&(a.a.preload="none"),e.jme||(a.a.controls="controls");var n=e(document.createElement(a.e)).attr(a.a).appendTo(t);"video"==a.e&&n.css({width:"100%",height:"100%"}),e.each(a.c,function(t,a){e(document.createElement(a.e)).attr(a.a).appendTo(n)}),e("body").updatePolyfill(),n.mediaLoad()}))}}(function(t){e.jme?t(e):e(window).on("jmepluginready",function(){t(e)})})(function(e){var a=function(){a.run||(e.jme.options.embeddedPlayer&&(t=e.jme.options.embeddedPlayer),t?t+=-1!=t.indexOf("?")?"&":"?":window.console&&console.log("you need to define a path to the embedded player $.jme.options.embeddedPlayer")),a.run=!0};e.jme.defineMethod("getIframe",function(t,n){t||(t=640),n||(n=360),/\d$/.test(""+t)&&(t+="px"),/\d$/.test(""+n)&&(n+="px");var a="width: "+t+"; height: "+n+"; overflow: hidden; border: none;";return'<iframe style="'+a+'" src="'+e(this).jmeProp("embedUrl")+'" allowfullscreen webkitallowfullscreen frameborder="0"></iframe>'}),e.jme.defineProp("embedUrl",{get:function(r){a();var i=e.jme.data(r);i.media.prop("src");var s={a:{},c:[]};return i.media.each(function(){s.e=i.media.prop("nodeName").toLowerCase(),e.each(["poster","src","autoplay","loop","muted","title"],function(e,t){var n=i.media.attr(t);null!=n&&(s.a[t]=i.media.prop(t))}),e("track",i.media).each(function(){var t=e(this),n={e:"track",a:{}};s.c.push(n),e.each(["src","srclang","kind","label"],function(e,a){var r=t.attr(a);null!=r&&(n.a[a]=t.prop(a))})}),e("source",i.media).each(function(){var t=e(this),n={e:"source",a:{}};s.c.push(n),e.each(["src","media","type"],function(e,a){var r=t.attr(a);null!=r&&(n.a[a]=t.prop(a))})})}),t+"jmeembed="+encodeURIComponent(JSON.stringify(s)).replace(n,"+")},readonly:!0})})})(jQuery);